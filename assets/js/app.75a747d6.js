(function(){"use strict";var e={9053:function(e,t,o){var a=o(9242),n=o(3396),r=o(7795),i=o(1495),l=o(7139),s=(0,l.MT)({state:{oAuthServerUrlTemplate:"https://gdroid-service.gleeze.com/authenticate?information=",serverUrlTemplate:"https://gdroid-service.gleeze.com/api",oAuthTokenLocalStorageKeyName:"gdeat-gpeat-oa",oAuthToken:"",serverAuthTokenLocalStorageKeyName:"gdeat-gpeat-sa",serverAuthToken:"",clientNotificationTokenLocalStorageKeyName:"gdeat-gpeat-nt",clientNotificationToken:"",user:void 0},getters:{},mutations:{},actions:{},modules:{}}),u=(o(2801),o(6812)),c=o(4161),f=new class{async serverCallGetUser(){const e="/ecosystem/user",t=`${s.state.serverUrlTemplate}${e}`;return console.log("gdroid-api ➤➤➤ ",t),c.Z.get(t,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.state.serverAuthToken}`}})}async serverCallPostAuth(e,t){const o="/auth",a=`${s.state.serverUrlTemplate}${o}`,n={authType:e,authJwtTokenBase64:t,serverAuthToken:s.state.serverAuthToken,notificationToken:localStorage.getItem(s.state.clientNotificationTokenLocalStorageKeyName),extraInformation:{browser:window.navigator.userAgent,device:(0,u.a)()}};return console.log("gdroid-api ➤➤➤ ",a,n),c.Z.post(a,n,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.state.serverAuthToken}`}})}async signin(e){await this.serverCallPostAuth("signin",e).then((t=>{const o=t.data;s.state.oAuthToken=e,s.state.serverAuthToken=o,s.state.user=JSON.parse(atob(o)),localStorage.setItem(s.state.oAuthTokenLocalStorageKeyName,e),localStorage.setItem(s.state.serverAuthTokenLocalStorageKeyName,o)}))}async notificationToken(e){await this.serverCallPostAuth("notificationToken",e).then((t=>{const o=t.data;s.state.oAuthToken=e,s.state.serverAuthToken=o,s.state.user=JSON.parse(atob(o)),localStorage.setItem(s.state.oAuthTokenLocalStorageKeyName,e),localStorage.setItem(s.state.serverAuthTokenLocalStorageKeyName,o)}))}async signout(){await this.serverCallPostAuth("signout",s.state.oAuthToken).then((e=>{s.state.oAuthToken="",s.state.serverAuthToken="",s.state.user=void 0,localStorage.removeItem(s.state.oAuthTokenLocalStorageKeyName),localStorage.removeItem(s.state.serverAuthTokenLocalStorageKeyName),console.log("store (signout)",s.state.user,"'",s.state.oAuthToken,"', '",s.state.serverAuthToken,"'")}))}},v=(0,n.aZ)({__name:"App",setup(e){const t={apiKey:"AIzaSyCYdztTgy4otlOiOs03m9J5BFoBUArqV0U",authDomain:"opentext-d4d09.firebaseapp.com",databaseURL:"https://opentext-d4d09.firebaseio.com",projectId:"opentext-d4d09",storageBucket:"opentext-d4d09.appspot.com",messagingSenderId:"144479104452",appId:"1:144479104452:web:0f360def0245efee530891",measurementId:"G-T1SQRJ6K6R"},o=((0,r.ZF)(t),(0,i.KL)());return(0,i.ps)(o,(e=>{console.log("Message received. ",e)})),(0,i.LP)(o,{vapidKey:"BDyr9KBjJF-_DSyALzKGN5Rq-40vfQqJ9bH73u_yr-d711zMljEvCVW5xQMLlrFzTVs38nUQixCbWBmfIr394mQ"}).then((e=>{if(e){localStorage.setItem(s.state.clientNotificationTokenLocalStorageKeyName,e),s.state.clientNotificationToken=e,console.log("token: ",localStorage.getItem(s.state.clientNotificationTokenLocalStorageKeyName));const t=localStorage.getItem(s.state.oAuthTokenLocalStorageKeyName);f.notificationToken(t)}else console.log("No registration token available. Request permission to generate one.")})).catch((e=>{console.error(e)})),(e,t)=>{const o=(0,n.up)("router-link"),a=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("nav",null,[(0,n.Wm)(o,{to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("Home")])),_:1}),(0,n.Uk)(" | "),(0,n.Wm)(o,{to:"/about"},{default:(0,n.w5)((()=>[(0,n.Uk)("About")])),_:1})]),(0,n.Wm)(a)],64)}}});const d=v;var p=d,g=(o(7658),o(2483)),h=o(1977),m=o(2268);const b={key:0,class:"home"},k=["src"],y={key:1,class:"sigin"};function w(e,t,o,a,r,i){const l=(0,n.up)("router-link");return e.global.user?((0,n.wg)(),(0,n.iD)("div",b,[(0,n._)("img",{alt:"User",src:e.global.user.pictureLink,referrerpolicy:"no-referrer"},null,8,k),(0,n._)("h2",null,(0,m.zw)(e.global.user.email),1),(0,n._)("div",null,[(0,n.Wm)(l,{to:"/signout"},{default:(0,n.w5)((()=>[(0,n.Uk)("Sign-out")])),_:1})]),(0,n._)("div",{onClick:t[0]||(t[0]=t=>e.service.getUser())},"User")])):((0,n.wg)(),(0,n.iD)("div",y,[(0,n._)("div",null,[(0,n.Wm)(l,{to:"/signin"},{default:(0,n.w5)((()=>[(0,n.Uk)("Sign-in")])),_:1})])]))}var T=o(6520);const j={class:"hello"},A=(0,n.uE)('<p data-v-73f46931> For a guide and recipes on how to configure / customize this project,<br data-v-73f46931> check out the <a href="https://cli.vuejs.org" target="_blank" rel="noopener" data-v-73f46931>vue-cli documentation</a>. </p><h3 data-v-73f46931>Installed CLI Plugins</h3><ul data-v-73f46931><li data-v-73f46931><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel" target="_blank" rel="noopener" data-v-73f46931>babel</a></li><li data-v-73f46931><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-pwa" target="_blank" rel="noopener" data-v-73f46931>pwa</a></li><li data-v-73f46931><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router" target="_blank" rel="noopener" data-v-73f46931>router</a></li><li data-v-73f46931><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-vuex" target="_blank" rel="noopener" data-v-73f46931>vuex</a></li><li data-v-73f46931><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint" target="_blank" rel="noopener" data-v-73f46931>eslint</a></li><li data-v-73f46931><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-typescript" target="_blank" rel="noopener" data-v-73f46931>typescript</a></li></ul><h3 data-v-73f46931>Essential Links</h3><ul data-v-73f46931><li data-v-73f46931><a href="https://vuejs.org" target="_blank" rel="noopener" data-v-73f46931>Core Docs</a></li><li data-v-73f46931><a href="https://forum.vuejs.org" target="_blank" rel="noopener" data-v-73f46931>Forum</a></li><li data-v-73f46931><a href="https://chat.vuejs.org" target="_blank" rel="noopener" data-v-73f46931>Community Chat</a></li><li data-v-73f46931><a href="https://twitter.com/vuejs" target="_blank" rel="noopener" data-v-73f46931>Twitter</a></li><li data-v-73f46931><a href="https://news.vuejs.org" target="_blank" rel="noopener" data-v-73f46931>News</a></li></ul><h3 data-v-73f46931>Ecosystem</h3><ul data-v-73f46931><li data-v-73f46931><a href="https://router.vuejs.org" target="_blank" rel="noopener" data-v-73f46931>vue-router</a></li><li data-v-73f46931><a href="https://vuex.vuejs.org" target="_blank" rel="noopener" data-v-73f46931>vuex</a></li><li data-v-73f46931><a href="https://github.com/vuejs/vue-devtools#vue-devtools" target="_blank" rel="noopener" data-v-73f46931>vue-devtools</a></li><li data-v-73f46931><a href="https://vue-loader.vuejs.org" target="_blank" rel="noopener" data-v-73f46931>vue-loader</a></li><li data-v-73f46931><a href="https://github.com/vuejs/awesome-vue" target="_blank" rel="noopener" data-v-73f46931>awesome-vue</a></li></ul>',7);function S(e,t,o,a,r,i){return(0,n.wg)(),(0,n.iD)("div",j,[(0,n._)("h1",null,(0,m.zw)(e.msg),1),A])}var _=o(7327),O=function(e,t,o,a){var n,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(r<3?n(i):r>3?n(t,o,i):n(t,o))||i);return r>3&&i&&Object.defineProperty(t,o,i),i};let N=class extends T.w3{constructor(...e){super(...e),(0,_.Z)(this,"msg",void 0)}};N=O([(0,T.Ei)({props:{msg:String}})],N);var L=N,P=o(89);const I=(0,P.Z)(L,[["render",S],["__scopeId","data-v-73f46931"]]);var R=I,C=function(e,t,o,a){var n,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(r<3?n(i):r>3?n(t,o,i):n(t,o))||i);return r>3&&i&&Object.defineProperty(t,o,i),i};let x=class extends T.w3{};x=C([(0,T.Ei)({components:{HelloWorld:R},data(){return{global:s.state,service:f}}})],x);var K=x;const U=(0,P.Z)(K,[["render",w],["__scopeId","data-v-27cc959a"]]);var D=U;const E={class:"home"};function z(e,t,o,a,r,i){return(0,n.wg)(),(0,n.iD)("div",E)}var F=function(e,t,o,a){var n,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(r<3?n(i):r>3?n(t,o,i):n(t,o))||i);return r>3&&i&&Object.defineProperty(t,o,i),i};let q=class extends T.w3{};q=F([(0,T.Ei)({components:{},data(){return{global:s.state}},mounted:function(){console.log("signin view mounted",(0,g.yj)().query),le.push("/")}})],q);var B=q;const Z=(0,P.Z)(B,[["render",z]]);var M=Z;const W={class:"home"};function J(e,t,o,a,r,i){return(0,n.wg)(),(0,n.iD)("div",W)}var $=function(e,t,o,a){var n,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(r<3?n(i):r>3?n(t,o,i):n(t,o))||i);return r>3&&i&&Object.defineProperty(t,o,i),i};let Q=class extends T.w3{};Q=$([(0,T.Ei)({components:{},data(){return{global:s.state}},mounted:function(){console.log("signout view mounted"),f.signout().then((()=>{le.push("/")}))}})],Q);var H=Q;const G=(0,P.Z)(H,[["render",J]]);var V=G;function Y(e,t,o,a,r,i){return(0,n.wg)(),(0,n.iD)("div",null," 404 | Not Found ")}var X=function(e,t,o,a){var n,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(r<3?n(i):r>3?n(t,o,i):n(t,o))||i);return r>3&&i&&Object.defineProperty(t,o,i),i};let ee=class extends T.w3{};ee=X([(0,T.Ei)({components:{},data(){return{page:{}}}})],ee);var te=ee;const oe=(0,P.Z)(te,[["render",Y]]);var ae=oe;const ne=["/","/about"],re=[{path:"/",name:"home",component:D},{path:"/signin",name:"signin",component:M},{path:"/signout",name:"signout",component:V},{path:"/about",name:"about",component:()=>o.e(443).then(o.bind(o,4335))},{path:"/:pathMatch(.*)*",name:"not-found",component:ae}],ie=(0,g.p7)({history:(0,g.PO)("/"),routes:re});ie.beforeEach(((e,t)=>{if(e.query.authentication){const t=e.query.authentication;null!==t&&f.signin(t).then((()=>{if(e.query.information){const t=e.query.information,o=new URL(atob(t));return console.log("redirect",o),ie.push(o.pathname),!1}}))}else if(void 0===s.state.user){if(null!==localStorage.getItem(s.state.oAuthTokenLocalStorageKeyName)){const e=localStorage.getItem(s.state.oAuthTokenLocalStorageKeyName);return f.signin(e),!0}if(ne.includes(e.path)||null==new h.List(ie.getRoutes()).FirstOrDefault((t=>t?.path===e.path)))return!0;{const t=location.protocol+"//"+location.host+e.fullPath,o=btoa(t),a=s.state.oAuthServerUrlTemplate+o;return console.log("oAuthToken Redirect",a),window.location.href=a,!1}}return!0}));var le=ie;const se=(0,a.ri)(p);se.use(s).use(le).mount("#app")}},t={};function o(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,a,n,r){if(!a){var i=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],r=e[c][2];for(var l=!0,s=0;s<a.length;s++)(!1&r||i>=r)&&Object.keys(o.O).every((function(e){return o.O[e](a[s])}))?a.splice(s--,1):(l=!1,r<i&&(i=r));if(l){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,n,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,a){return o.f[a](e,t),t}),[]))}}(),function(){o.u=function(e){return"assets/js/about.12d35dfc.js"}}(),function(){o.miniCssF=function(e){}}(),function(){o.miniCssF=function(e){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="gdroid-home:";o.l=function(a,n,r,i){if(e[a])e[a].push(n);else{var l,s;if(void 0!==r)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var f=u[c];if(f.getAttribute("src")==a||f.getAttribute("data-webpack")==t+r){l=f;break}}l||(s=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.setAttribute("data-webpack",t+r),l.src=a),e[a]=[n];var v=function(t,o){l.onerror=l.onload=null,clearTimeout(d);var n=e[a];if(delete e[a],l.parentNode&&l.parentNode.removeChild(l),n&&n.forEach((function(e){return e(o)})),t)return t(o)},d=setTimeout(v.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=v.bind(null,l.onerror),l.onload=v.bind(null,l.onload),s&&document.head.appendChild(l)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var e={143:0};o.f.j=function(t,a){var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var r=new Promise((function(o,a){n=e[t]=[o,a]}));a.push(n[2]=r);var i=o.p+o.u(t),l=new Error,s=function(a){if(o.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var r=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,n[1](l)}};o.l(i,s,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,r,i=a[0],l=a[1],s=a[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(n in l)o.o(l,n)&&(o.m[n]=l[n]);if(s)var c=s(o)}for(t&&t(a);u<i.length;u++)r=i[u],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(c)},a=self["webpackChunkgdroid_home"]=self["webpackChunkgdroid_home"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(9053)}));a=o.O(a)})();
//# sourceMappingURL=app.75a747d6.js.map